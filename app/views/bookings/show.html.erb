<%= render "booking" %>
<p></p>

<section class="ui grid container">
    <div class="column row">
        <div class="column">

            <%= form_tag charges_path do %>
                <article>
                    <% if flash[:error].present? %>
                        <div id="error_explanation">
                            <p><%= flash[:error] %></p>
                        </div>
                    <% end %>
                </article>
                
                <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                    data-label="Confirm and Pay"
                    data-key="<%= Rails.configuration.stripe[:publishable_key] %>"
                    data-description="<%= @description %>"
                    data-amount="<%= number_to_currency @amount.to_i/100 %>"
                    data-email="<%= @email %>"
                    data-locale="auto">
                </script>
            <% end %>

        </div>
    </div>
</section>